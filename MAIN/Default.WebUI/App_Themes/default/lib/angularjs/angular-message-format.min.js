/**
 * @license AngularJS v1.4.3
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n){"use strict";function yt(n){if(n==null)return"";switch(typeof n){case"string":return n;case"number":return""+n;default:return vt(n)}}function r(n,t){for(var r,u=n.split(/\n/g),i=0;i<u.length;i++)if(r=u[i],t>=r.length)t-=r.length;else return{line:i+1,column:t+1}}function p(n){function t(){return n}var i=y[n];return i!=null?i:(t.$$watchDelegate=function(t,i,r){var u=t.$watch(v,function(){e(i)&&i.call(null,n,n,t);u()},r);return u},y[n]=t,t.exp=n,t.expressions=[],t)}function pt(n,t){function i(n){return n==void 0?n:n-t}function r(t){return i(n(t))}if(t===0)return n;var u;return r.$$watchDelegate=function(t,r,f){return u=t.$watch(n,function(n,u){e(r)&&r.call(null,i(n),i(u),t)},f)},r}function f(n,t){var r=this;if(this.expressionFn=n,this.choices=t,t.other===void 0)throw i("reqother","“other” is a required option.");this.parsedFn=function(n){return r.getResult(n)};this.parsedFn.$$watchDelegate=function(n,t,i){return r.watchDelegate(n,t,i)};this.parsedFn.exp=n.exp;this.parsedFn.expressions=n.expressions}function o(n,t,i,r){var f=this,u;this.scope=t;this.msgSelector=n;this.listener=i;this.objectEquality=r;this.lastMessage=void 0;this.messageFnWatcher=v;u=function(n,t){return f.expressionFnListener(n,t)};this.expressionFnWatcher=t.$watch(n.expressionFn,u,r)}function s(n,t){f.call(this,n,t)}function w(){}function h(n,t,i,r){f.call(this,n,t);this.offset=i;this.pluralCat=r}function b(){}function u(n,t){this.trustedContext=n;this.allOrNothing=t;this.textParts=[];this.expressionFns=[];this.expressionIndices=[];this.partialText="";this.concatParts=null}function c(n,t,i){this.interpolationParts=n;this.scope=t;this.previousResult=void 0;this.listener=i;var r=this;this.expressionFnsWatcher=t.$watchGroup(n.expressionFns,function(n,t){r.watchListener(n,t)})}function l(n,t){t.expressionFn=n.expressionFn;t.expressionMinusOffsetFn=n.expressionMinusOffsetFn;t.pluralOffset=n.pluralOffset;t.choices=n.choices;t.choiceKey=n.choiceKey;t.interpolationParts=n.interpolationParts;t.ruleChoiceKeyword=n.ruleChoiceKeyword;t.msgStartIndex=n.msgStartIndex;t.expressionStartIndex=n.expressionStartIndex}function k(n){l(n,this)}function t(n,t,i,r,u,f,e,o){this.text=n;this.index=t||0;this.$parse=i;this.pluralCat=r;this.stringifier=u;this.mustHaveExpression=!!f;this.trustedContext=e;this.allOrNothing=!!o;this.expressionFn=null;this.expressionMinusOffsetFn=null;this.pluralOffset=null;this.choices=null;this.choiceKey=null;this.interpolationParts=null;this.msgStartIndex=null;this.nestedStateStack=[];this.parsedFn=null;this.rule=null;this.ruleStack=null;this.ruleChoiceKeyword=null;this.interpNestLevel=null;this.expressionStartIndex=null;this.stringStartIndex=null;this.stringQuote=null;this.stringInterestsRe=null;this.angularOperatorStack=null;this.textPart=null}function ct(n){switch(n){case"{":return"}";case"[":return"]";case"(":return")";default:return null}}function dt(n){switch(n){case"}":return"{";case"]":return"[";case")":return"(";default:return null}}var i=n.angular.$interpolateMinErr,v=n.angular.noop,e=n.angular.isFunction,vt=n.angular.toJson,y=Object.create(null),d,g,nt,tt,it,rt,a,ut,ft,et,ot,wt,ht,lt;f.prototype.getMessageFn=function(n){return this.choices[this.categorizeValue(n)]};f.prototype.getResult=function(n){return this.getMessageFn(this.expressionFn(n))(n)};f.prototype.watchDelegate=function(n,t,i){var r=new o(this,n,t,i);return function(){r.cancelWatch()}};o.prototype.expressionFnListener=function(n){var r=this,t,i;this.messageFnWatcher();t=function(n,t){return r.messageFnListener(n,t)};i=this.msgSelector.getMessageFn(n);this.messageFnWatcher=this.scope.$watch(i,t,this.objectEquality)};o.prototype.messageFnListener=function(n,t){e(this.listener)&&this.listener.call(null,n,n===t?n:this.lastMessage,this.scope);this.lastMessage=n};o.prototype.cancelWatch=function(){this.expressionFnWatcher();this.messageFnWatcher()};w.prototype=f.prototype;s.prototype=new w;s.prototype.categorizeValue=function(n){return this.choices[n]!==void 0?n:"other"};b.prototype=f.prototype;h.prototype=new b;h.prototype.categorizeValue=function(n){if(isNaN(n))return"other";if(this.choices[n]!==void 0)return n;var t=this.pluralCat(n-this.offset);return this.choices[t]!==void 0?t:"other"};u.prototype.flushPartialText=function(){this.partialText&&(this.concatParts==null?this.textParts.push(this.partialText):(this.textParts.push(this.concatParts.join("")),this.concatParts=null),this.partialText="")};u.prototype.addText=function(n){n.length&&(this.partialText?this.concatParts?this.concatParts.push(n):this.concatParts=[this.partialText,n]:this.partialText=n)};u.prototype.addExpressionFn=function(n){this.flushPartialText();this.expressionIndices.push(this.textParts.length);this.expressionFns.push(n);this.textParts.push("")};u.prototype.getExpressionValues=function(n){for(var i=new Array(this.expressionFns.length),t=0;t<this.expressionFns.length;t++)i[t]=this.expressionFns[t](n);return i};u.prototype.getResult=function(n){for(var i,t=0;t<this.expressionIndices.length;t++){if(i=n[t],this.allOrNothing&&i===void 0)return;this.textParts[this.expressionIndices[t]]=i}return this.textParts.join("")};u.prototype.toParsedFn=function(n,t){var f=this,r,u;if(this.flushPartialText(),n&&this.expressionFns.length===0)return void 0;if(this.textParts.length===0)return p("");if(this.trustedContext&&this.textParts.length>1&&i.throwNoconcat(t),this.expressionFns.length===0)return this.textParts.length!=1&&this.errorInParseLogic(),p(this.textParts[0]);for(r=function(n){return f.getResult(f.getExpressionValues(n))},r.$$watchDelegate=function(n,t,i){return f.watchDelegate(n,t,i)},r.exp=t,r.expressions=new Array(this.expressionFns.length),u=0;u<this.expressionFns.length;u++)r.expressions[u]=this.expressionFns[u].exp;return r};u.prototype.watchDelegate=function(n,t,i){var r=new c(this,n,t,i);return function(){r.cancelWatch()}};c.prototype.watchListener=function(n,t){var i=this.interpolationParts.getResult(n);e(this.listener)&&this.listener.call(null,i,n===t?i:this.previousResult,this.scope);this.previousResult=i};c.prototype.cancelWatch=function(){this.expressionFnsWatcher()};d=new k(new t("",0,null,null,null,!1,null,!1));t.prototype.pushState=function(){this.nestedStateStack.push(new k(this));l(d,this)};t.prototype.popState=function(){this.nestedStateStack.length===0&&this.errorInParseLogic();var n=this.nestedStateStack.pop();l(n,this)};t.prototype.matchRe=function(n,t){n.lastIndex=this.index;var i=n.exec(this.text);return i!=null&&(t===!0||i.index==this.index)?(this.index=n.lastIndex,i):null};t.prototype.searchRe=function(n){return this.matchRe(n,!0)};t.prototype.consumeRe=function(n){return!!this.matchRe(n)};t.prototype.run=function(n){this.ruleStack=[n];do{for(this.rule=this.ruleStack.pop();this.rule;)this.rule();this.assertRuleOrNull(this.rule)}while(this.ruleStack.length>0)};t.prototype.errorInParseLogic=function(){throw i("logicbug","The messageformat parser has encountered an internal error.  Please file a github issue against the AngularJS project and provide this message text that triggers the bug.  Text: “{0}”",this.text);};t.prototype.assertRuleOrNull=function(n){n===void 0&&this.errorInParseLogic()};g=/\s*(\w+)\s*/g;t.prototype.errorExpecting=function(){var u=this.matchRe(g),n,t;if(u==null){n=r(this.text,this.index);throw i("reqarg","Expected one of “plural” or “select” at line {0}, column {1} of text “{2}”",n.line,n.column,this.text);}if(t=u[1],t=="select"||t=="plural"){n=r(this.text,this.index);throw i("reqcomma","Expected a comma after the keyword “{0}” at line {1}, column {2} of text “{3}”",t,n.line,n.column,this.text);}else{n=r(this.text,this.index);throw i("unknarg","Unsupported keyword “{0}” at line {0}, column {1}. Only “plural” and “select” are currently supported.  Text: “{3}”",t,n.line,n.column,this.text);}};nt=/['"]/g;t.prototype.ruleString=function(){var t=this.matchRe(nt),n;if(t==null){n=r(this.text,this.index);throw i("wantstring","Expected the beginning of a string at line {0}, column {1} in text “{2}”",n.line,n.column,this.text);}this.startStringAtMatch(t)};t.prototype.startStringAtMatch=function(n){this.stringStartIndex=n.index;this.stringQuote=n[0];this.stringInterestsRe=this.stringQuote=="'"?tt:it;this.rule=this.ruleInsideString};tt=/\\(?:\\|'|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\r\n|\n|[\s\S])|'/g;it=/\\(?:\\|"|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\r\n|\n|[\s\S])|"/g;t.prototype.ruleInsideString=function(){var n=this.searchRe(this.stringInterestsRe),t,u;if(n==null){t=r(this.text,this.stringStartIndex);throw i("untermstr","The string beginning at line {0}, column {1} is unterminated in text “{2}”",t.line,t.column,this.text);}u=n[0];n==this.stringQuote&&(this.rule=null)};rt=/\s*(plural|select)\s*,\s*/g;t.prototype.rulePluralOrSelect=function(){var n=this.searchRe(rt),t;n==null&&this.errorExpecting();t=n[1];switch(t){case"plural":this.rule=this.rulePluralStyle;break;case"select":this.rule=this.ruleSelectStyle;break;default:this.errorInParseLogic()}};t.prototype.rulePluralStyle=function(){this.choices=Object.create(null);this.ruleChoiceKeyword=this.rulePluralValueOrKeyword;this.rule=this.rulePluralOffset};t.prototype.ruleSelectStyle=function(){this.choices=Object.create(null);this.ruleChoiceKeyword=this.ruleSelectKeyword;this.rule=this.ruleSelectKeyword};a=/[0]|(?:[1-9][0-9]*)/g;ut=new RegExp("\\s*offset\\s*:\\s*("+a.source+")","g");t.prototype.rulePluralOffset=function(){var n=this.matchRe(ut);this.pluralOffset=n==null?0:parseInt(n[1],10);this.expressionMinusOffsetFn=pt(this.expressionFn,this.pluralOffset);this.rule=this.rulePluralValueOrKeyword};t.prototype.assertChoiceKeyIsNew=function(n,t){if(this.choices[n]!==void 0){var u=r(this.text,t);throw i("dupvalue","The choice “{0}” is specified more than once. Duplicate key is at line {1}, column {2} in text “{3}”",n,u.line,u.column,this.text);}};ft=/\s*(\w+)/g;t.prototype.ruleSelectKeyword=function(){var n=this.matchRe(ft);if(n==null){this.parsedFn=new s(this.expressionFn,this.choices).parsedFn;this.rule=null;return}this.choiceKey=n[1];this.assertChoiceKeyIsNew(this.choiceKey,n.index);this.rule=this.ruleMessageText};et=new RegExp("\\s*(?:(?:=("+a.source+"))|(\\w+))","g");t.prototype.rulePluralValueOrKeyword=function(){var n=this.matchRe(et);if(n==null){this.parsedFn=new h(this.expressionFn,this.choices,this.pluralOffset,this.pluralCat).parsedFn;this.rule=null;return}this.choiceKey=n[1]!=null?parseInt(n[1],10):n[2];this.assertChoiceKeyIsNew(this.choiceKey,n.index);this.rule=this.ruleMessageText};ot=/\s*{/g;wt=/}/g;t.prototype.ruleMessageText=function(){if(!this.consumeRe(ot)){var n=r(this.text,this.index);throw i("reqopenbrace","The plural choice “{0}” must be followed by a message in braces at line {1}, column {2} in text “{3}”",this.choiceKey,n.line,n.column,this.text);}this.msgStartIndex=this.index;this.interpolationParts=new u(this.trustedContext,this.allOrNothing);this.rule=this.ruleInInterpolationOrMessageText};var bt=/\\.|{{|}/g,kt=/\\.|{{|#|}/g,st=/\\.|{{/g;t.prototype.advanceInInterpolationOrMessageText=function(){var u=this.index,n,t,f;if(this.ruleChoiceKeyword==null){if(n=this.searchRe(st),n==null)return this.textPart=this.text.substring(u),this.index=this.text.length,null}else if(n=this.searchRe(this.ruleChoiceKeyword==this.rulePluralValueOrKeyword?kt:bt),n==null){t=r(this.text,this.msgStartIndex);throw i("reqendbrace","The plural/select choice “{0}” message starting at line {1}, column {2} does not have an ending closing brace. Text “{3}”",this.choiceKey,t.line,t.column,this.text);}return f=n[0],this.textPart=this.text.substring(u,n.index),f};t.prototype.ruleInInterpolationOrMessageText=function(){var t=this.index,n=this.advanceInInterpolationOrMessageText();if(n==null){this.index=this.text.length;this.interpolationParts.addText(this.text.substring(t));this.rule=null;return}if(n[0]=="\\"){this.interpolationParts.addText(this.textPart+n[1]);return}this.interpolationParts.addText(this.textPart);n=="{{"?(this.pushState(),this.ruleStack.push(this.ruleEndMustacheInInterpolationOrMessage),this.rule=this.ruleEnteredMustache):n=="}"?(this.choices[this.choiceKey]=this.interpolationParts.toParsedFn(!1,this.text),this.rule=this.ruleChoiceKeyword):n=="#"?this.interpolationParts.addExpressionFn(this.expressionMinusOffsetFn):this.errorInParseLogic()};t.prototype.ruleInterpolate=function(){this.interpolationParts=new u(this.trustedContext,this.allOrNothing);this.rule=this.ruleInInterpolation};t.prototype.ruleInInterpolation=function(){var t=this.index,n=this.searchRe(st),i;if(n==null){this.index=this.text.length;this.interpolationParts.addText(this.text.substring(t));this.parsedFn=this.interpolationParts.toParsedFn(this.mustHaveExpression,this.text);this.rule=null;return}if(i=n[0],i[0]=="\\"){this.interpolationParts.addText(this.text.substring(t,n.index)+i[1]);return}this.interpolationParts.addText(this.text.substring(t,n.index));this.pushState();this.ruleStack.push(this.ruleInterpolationEndMustache);this.rule=this.ruleEnteredMustache};t.prototype.ruleInterpolationEndMustache=function(){var n=this.parsedFn;this.popState();this.interpolationParts.addExpressionFn(n);this.rule=this.ruleInInterpolation};t.prototype.ruleEnteredMustache=function(){this.parsedFn=null;this.ruleStack.push(this.ruleEndMustache);this.rule=this.ruleAngularExpression};t.prototype.ruleEndMustacheInInterpolationOrMessage=function(){var n=this.parsedFn;this.popState();this.interpolationParts.addExpressionFn(n);this.rule=this.ruleInInterpolationOrMessageText};ht=/\s*}}/g;t.prototype.ruleEndMustache=function(){var t=this.matchRe(ht),n;if(t==null){n=r(this.text,this.index);throw i("reqendinterp","Expecting end of interpolation symbol, “{0}”, at line {1}, column {2} in text “{3}”","}}",n.line,n.column,this.text);}this.parsedFn==null&&(this.parsedFn=this.$parse(this.expressionFn,this.stringifier),this.parsedFn.exp=this.expressionFn.exp,this.parsedFn.expressions=this.expressionFn.expressions);this.rule=null};t.prototype.ruleAngularExpression=function(){this.angularOperatorStack=[];this.expressionStartIndex=this.index;this.rule=this.ruleInAngularExpression};lt=/[[\]{}()'",]/g;t.prototype.ruleInAngularExpression=function(){var o=this.index,t=this.searchRe(lt),u,e,n,f;if(t==null){if(this.angularOperatorStack.length===0){this.index=this.text.length;this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,this.index));this.expressionFn.exp=this.text.substring(this.expressionStartIndex,this.index);this.expressionFn.expressions=this.expressionFn.expressions;this.rule=null;return}e=this.angularOperatorStack[0];throw i("badexpr","Unexpected end of Angular expression.  Expecting operator “{0}” at the end of the text “{1}”",this.getEndOperator(e),this.text);}if(n=t[0],n=="'"||n=='"'){this.ruleStack.push(this.ruleInAngularExpression);this.startStringAtMatch(t);return}if(n==","){if(this.trustedContext){u=r(this.text,this.index);throw i("unsafe","Use of select/plural MessageFormat syntax is currently disallowed in a secure context ({0}).  At line {1}, column {2} of text “{3}”",this.trustedContext,u.line,u.column,this.text);}this.angularOperatorStack.length===0&&(this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,t.index)),this.expressionFn.exp=this.text.substring(this.expressionStartIndex,t.index),this.expressionFn.expressions=this.expressionFn.expressions,this.rule=null,this.rule=this.rulePluralOrSelect);return}if(ct(n)!=null){this.angularOperatorStack.unshift(n);return}if(f=dt(n),f==null&&this.errorInParseLogic(),this.angularOperatorStack.length>0){if(f==this.angularOperatorStack[0]){this.angularOperatorStack.shift();return}u=r(this.text,this.index);throw i("badexpr","Unexpected operator “{0}” at line {1}, column {2} in text. Was expecting “{3}”. Text: “{4}”",n,u.line,u.column,ct(this.angularOperatorStack[0]),this.text);}this.index=t.index;this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,this.index));this.expressionFn.exp=this.text.substring(this.expressionStartIndex,this.index);this.expressionFn.expressions=this.expressionFn.expressions;this.rule=null};var gt=["$parse","$locale","$sce","$exceptionHandler",function(n,r,u,f){function e(n,t,r){return function(e){try{return e=n?u.getTrusted(n,e):u.valueOf(e),t&&e===void 0?e:yt(e)}catch(o){f(i.interr(r,o))}}}function o(i,u,f,o){var h=e(f,o,i),s=new t(i,0,n,r.pluralCat,h,u,f,o);return s.run(s.ruleInterpolate),s.parsedFn}return{interpolate:o}}],ni=["$$messageFormat","$delegate",function(n,t){if(t.startSymbol()!="{{"||t.endSymbol()!="}}")throw i("nochgmustache","angular-message-format.js currently does not allow you to use custom start and end symbols for interpolation.");var r=n.interpolate;return r.startSymbol=t.startSymbol,r.endSymbol=t.endSymbol,r}],at=n.angular.module("ngMessageFormat",["ng"]);at.factory("$$messageFormat",gt);at.config(["$provide",function(n){n.decorator("$interpolate",ni)}])})(window,window.angular);
//# sourceMappingURL=angular-message-format.min.js.map
